 docs/dataset-guide.md docs/dataset-schemas.md 를 참고해서,
 
  목표: 추천 엔진용 데이터셋을 생성/검증/패키징한다.
  생성 대상:
  - data/clusters.json (약 120개)
  - data/concepts.json (600~1200개 권장)
  - data/concept_to_cluster.json (컨셉→클러스터 1:N 매핑)
  - data/templates.json (초기 최소 1200개, 목표 2400개 = 클러스터 120×20)
  - data/lexicon.json (컨셉 중심 표현 사전: variants 대량)
  - data/validation_rules.json (금지어/검증룰)
 
  규칙:
  - 컨텍스트 압축이 될것 같거나, 압축된 이후에는 docs/promguide.md를 다시 읽고 진행한다.
  - 모든 JSON 구조/필드 제약/무결성 규칙은 docs/dataset-schemas.md를 기준으로 한다.
  - templates는 missions 3개 이상으로 구성, 시작/종료 명확, 불친절/가비지 문장 금지,
  sum(estMin)==time.default, 미션들은 가급적 순차적이어야 하고 연관성이 있어야 한다.
  - templates의 title/mission action은 “사람이 사람에게 말하듯” 자연스럽고 인지 가능한 문장으로 쓴다(존댓말 지시문 권장).
  - lexicon은 concept 중심으로 작성(클러스터 중심 금지), variants를 충분히 크게 확장, patterns는 컨셉당 3개 이상
  - validate-data.ts를 작성하여:
    1) 참조 무결성 검사(templates↔clusters, templates↔concepts,lexicon↔concepts, concept_to_cluster↔clusters)
    2) 템플릿 품질 검사(미션 수, 금지어, time 합계, 시작/종료 휴리스틱)
    3) 중복 id 검사
  - 실패한 템플릿은 삭제하지 말고 재작성 대상으로 목록화한다.
 
  출력:
  - 위 6개 데이터 파일을 완성본으로 생성
  - scripts/validate-data.ts 생성
  - scripts/sample-run.ts 생성(임의 입력 몇 개로 추천 후보 매칭 샘플 출력)
 
 ## [AI 에이전트 프롬프트 요구사항]

데이터 생성을 담당하는 AI 에이전트는 아래의 지침을 절대 규칙으로 삼고 데이터를 생성해야 합니다.

### 1. 핵심 개념: 퀘스트와 미션
- **퀘스트(Quest)**: 완수해야 하는 큰 단위의 목표이자 '할 일의 제목'입니다. 추상적이고 포괄적으로 작성합니다. (예: "빠르게 끝내는 방 청소")
- **미션(Mission)**: 퀘스트를 완수하기 위해 요구되는 '작은 단위의 실제 행동'입니다. 구체적이고 상세해야 합니다. 퀘스트를 여러 개의 단위 미션으로 쪼개야 하며, 퀘스트와 동일한 이름의 단일 미션만 존재하는 것은 엄격히 금지됩니다. (예: "바닥 쓸기", "책상 위 책 정리하기")
- **시간 정합성**: 퀘스트 제목에 특정 시간(예: "30분 방 청소")이 명시된 경우, 하위 미션들의 수행 시간(estMin) 합산 값은 반드시 해당 퀘스트 제목의 시간과 일치해야 합니다.

### 2. 다양성 및 현실성 보장 (페르소나 기반 데이터)
- **대상 페르소나 고려**: 다양한 연령층, 국가, 직업군, 성별 등 다채로운 유형의 사용자가 공감할 수 있는 맥락을 반영하세요. (일상생활, 업무, 학업, 여가, 취미 등 다양한 상황 배분)
- **풍부한 바리에이션(Variation)**: 추후 추천엔진의 검색 정확도, 관련도, 유사도를 높은 품질로 측정하고 튜닝할 수 있도록, 문맥과 단어, 상황을 최대한 다채롭게 변형(Variation)하여 생성해야 합니다.
- **기계적 생성 금지**: AI 에이전트가 단어만 바꾸는 식의 단순 반복 패턴으로 데이터를 생성해서는 안 됩니다. 실제 사람들이 현실 세계에서 겪고 행동하는 맥락을 깊이 상상하여 현실과 맞닿은 데이터를 구축하세요.

### 3. 작업 실행 방식 및 프로세스
- **작업 샤딩(Sharding)**: 방대한 데이터셋이 요구되므로, 복수의 에이전트를 동원하여 작업을 논리적인 단위로 분할(Sharding)해 병렬로 진행합니다.
- **컨텍스트 유지 지침**: 멀티 세션이나 긴 작업으로 인해 프롬프트 컨텍스트가 유실되거나 룰이 기억나지 않을 경우, 즉각적으로 `docs/promguide.md` 파일을 다시 읽어 지침을 복구하시기 바랍니다.

### 4. 문장 톤(휴먼 프렌들리)
- **퀘스트(title)**: 딱딱한 문서형 표현보다, 사용자가 “아, 이거네” 하고 이해할 만한 부드러운 문장으로 작성합니다.
  - 예: “활기찬 하루의 시작을 위한 아침 10분 루틴”, “오늘 업무가 귀찮으니 일단 메일만 확인하자”
- **미션(action)**: 행동을 바로 할 수 있게, 가능한 한 **존댓말 지시문**으로 작성합니다.
  - 예: “식기를 모두 모아 설거지통에 넣으세요.”, “메일함을 열어보세요. 제목 3개만 확인합니다.”
