`docs/dataset-guide.md`, `docs/dataset-schemas.md`를 참고해서 작업합니다.

목표: 추천 엔진용 데이터셋을 (LLM이) 직접 **작성**하고, 검증 명령을 실행해 통과한 뒤, 패키징합니다.

용어(오해 방지)
- 이 문서에서 “생성”은 코드로 자동 조립/치환해서 만들어내는 뜻이 아니라, LLM이 JSON 레코드를 **직접 텍스트로 작성(출력)**한다는 의미입니다.
- “묶음(작성 단위)”은 코드로 자동 조립/치환하는 의미가 아니라, 사람이 읽을 수 있는 문장을 일정 단위로 **묶어서 작성**한다는 의미입니다.

데이터셋 필수 6파일 (5개 직접 작성 + 1개 읽기 전용)
- (직접 작성) `data/clusters.json` (약 120개)
- (직접 작성) `data/concepts.json` (600~1200개 권장)
- (직접 작성) `data/concept_to_cluster.json` (컨셉→클러스터 1:N 매핑)
- (직접 작성) `data/templates.json` (최소 1200개, 목표 2400개 = 클러스터 120×20)
- (직접 작성) `data/lexicon.json` (컨셉 중심 표현 사전: variants 대량)
- (읽기 전용) `data/validation_rules.json` (금지어/검증룰, 단일 기준)

규칙
- 컨텍스트가 압축됐거나 룰이 헷갈리면 즉시 `docs/promguide.md`를 다시 읽고 재정렬합니다.
- 모든 JSON 구조/필드 제약/무결성 규칙은 `docs/dataset-schemas.md`를 기준으로 합니다. (스키마 재서술 금지)
- templates는 missions **3~6개**로 구성하고, 시작/종료가 명확하며, 불친절/가비지 문장 금지. `sum(estMin)==time.default`는 오차 없이 일치.
- templates의 title/mission action은 “사람이 사람에게 말하듯” 자연스럽고 인지 가능한 문장으로 씁니다. (미션은 **존댓말 지시문** 가능/권장)
- lexicon은 concept 중심으로 작성(클러스터 중심 금지). variants는 충분히 크게 확장하되, patterns는 컨셉당 **1~3개 이하**로 최소화합니다.
- 검증은 `npm run -s dataset:validate` **명령을 실행**해 수행합니다. (검증은 데이터 품질 게이트이며, **데이터를 자동 조립/치환(코드)으로 만들어내는 행위는 금지**)
- 데이터 작성을 위해 자동 조립/치환용 코드를 새로 만들거나 수정하지 않습니다. (사용자가 명시적으로 요청한 경우만 예외)
- 실패한 템플릿은 삭제하지 말고 재작성 대상으로 목록화합니다.

출력
- 데이터셋 6파일을 완성본으로 준비(5개 직접 작성 + 1개 읽기 전용 유지)
- `npm run -s dataset:validate` 명령 실행 기준 errors/warnings 0 통과

## [AI 에이전트 프롬프트 요구사항]

데이터 작성을 담당하는 AI 에이전트는 아래의 지침을 절대 규칙으로 삼고 JSON 레코드를 직접 작성(출력)해야 합니다.

### 1. 핵심 개념: 퀘스트와 미션
- **퀘스트(Quest)**: 완수해야 하는 큰 단위의 목표이자 '할 일의 제목'입니다. 추상적이고 포괄적으로 작성합니다. (예: "빠르게 끝내는 방 청소")
- **미션(Mission)**: 퀘스트를 완수하기 위해 요구되는 '작은 단위의 실제 행동'입니다. 구체적이고 상세해야 합니다. 퀘스트를 여러 개의 단위 미션으로 쪼개야 하며, 퀘스트와 동일한 이름의 단일 미션만 존재하는 것은 엄격히 금지됩니다. (예: "바닥 쓸기", "책상 위 책 정리하기")
- **시간 정합성**: 퀘스트 제목에 특정 시간(예: "30분 방 청소")이 명시된 경우, 하위 미션들의 수행 시간(estMin) 합산 값은 반드시 해당 퀘스트 제목의 시간과 일치해야 합니다.

### 2. 다양성 및 현실성 보장 (페르소나 기반 데이터)
- **대상 페르소나 고려**: 다양한 연령층, 국가, 직업군, 성별 등 다채로운 유형의 사용자가 공감할 수 있는 맥락을 반영하세요. (일상생활, 업무, 학업, 여가, 취미 등 다양한 상황 배분)
- **풍부한 바리에이션(Variation)**: 추후 추천엔진의 검색 정확도, 관련도, 유사도를 높은 품질로 측정하고 튜닝할 수 있도록, 문맥과 단어, 상황을 최대한 다채롭게 변형(Variation)하여 작성해야 합니다.
- **기계적 생성 금지**: AI 에이전트가 단어만 바꾸는 식의 단순 반복 패턴으로 데이터를 “자동 생성”해서는 안 됩니다. 실제 사람들이 현실 세계에서 겪고 행동하는 맥락을 깊이 상상하여 현실과 맞닿은 데이터를 구축하세요.

### 3. 작업 실행 방식 및 프로세스
- **작업 샤딩(Sharding)**: 방대한 데이터셋이 요구되므로, 복수의 에이전트를 동원하여 작업을 논리적인 단위로 분할(Sharding)해 병렬로 진행합니다.
- **컨텍스트 유지 지침**: 멀티 세션이나 긴 작업으로 인해 프롬프트 컨텍스트가 유실되거나 룰이 기억나지 않을 경우, 즉각적으로 `docs/promguide.md` 파일을 다시 읽어 지침을 복구하시기 바랍니다.

### 4. 문장 톤(휴먼 프렌들리)
- **퀘스트(title)**: 딱딱한 문서형 표현보다, 사용자가 “아, 이거네” 하고 이해할 만한 부드러운 문장으로 작성합니다.
  - 예: “활기찬 하루의 시작을 위한 아침 10분 루틴”, “오늘 업무가 귀찮으니 일단 메일만 확인하자”
- **미션(action)**: 행동을 바로 할 수 있게, 가능한 한 **존댓말 지시문**으로 작성합니다.
  - 예: “식기를 모두 모아 설거지통에 넣으세요.”, “메일함을 열어보세요. 제목 3개만 확인합니다.”
