# Mobile-First UI Image Parity Plan

Last Updated: 2026-02-28

## Executive Summary
`MvpDashboard`를 모바일 우선으로 재정렬해 레퍼런스 이미지와의 시각/조작성 정합을 맞춘다. 기능 로직은 유지하고, 레이아웃/타이포/토큰/우선순위를 기준화해 남은 QA를 마무리한다.
일정 표기(`오늘/내일/D-##`)와 생성 경로별 일정 파싱 규칙을 통일하고, 실행 중 청크 증감 UI(`-5/-1/+1/+5`)를 단일 행으로 고정한다.
추가 요구사항으로 헤더 완전 정합, 타이틀/캐릭터 상태 사이 메시지 제거, 청킹 입력 클러스터 재구성, 진행중/대기중 퀘스트 규칙을 반영한다.

## Strategy
1. 기능 로직 동결: 청킹/타이머/보상/탭 상태 전이는 변경하지 않는다.
2. 섹션 단위 정합: 헤더/상태/입력/퀘스트/탭바를 이미지 기준으로 개별 검증한다.
3. 모바일 기준 우선: `390px`에서 먼저 정합 후 `430px`, `768px+`로 확장한다.
4. 회귀 방지 게이트: `typecheck/lint/test:mvp` + 수동 QA를 단계 종료 조건으로 사용한다.
5. 일정 일관성 유지: 퀘스트/AI/수동 청크 생성 경로 모두 `오늘/내일/D-##` 정규화 + 엄격 파싱을 적용한다.

## New Requirements (추가)
1. 헤더는 `/docs/ui/main_ui.png`와 완전 정합한다.
2. 타이틀/캐릭터 상태 사이 메시지를 제거한다.
3. 무지성 청킹 영역은 단일 플로팅 생성 버튼 + 입력 우측 STT + 버튼명 `AI 퀘스트 생성`으로 구성한다.
4. 하단 네비 고정 + 헤더 고정 + 메인 내용만 스크롤 구조를 유지한다.
5. 진행중 퀘스트에 다음 미션을 표시한다(`/docs/ui/add_ui.png` 참조).
6. 대기중 퀘스트에서 완료 항목을 제외한다.

## Reference Baseline (고정)
| 섹션 | 기준 이미지 |
|---|---|
| 1. 상단 타이틀 바 | `/docs/ui/main_ui.png` |
| 2. 캐릭터 상태 | `/docs/ui/main_ui.png` |
| 3. 태스크 청킹 | `/docs/ui/ui.png` |
| 4. 현재 퀘스트 | `/docs/ui/main_ui.png` |
| 5. 대기중 퀘스트 | `/docs/ui/main_ui.png` |
| 6. 퀘스트 추가/편집 | `/docs/ui/add_ui.png` |
| 7. 나머지 세부 요소 | `/docs/ui/ui.png` |

## Token Baseline (근사)
| 토큰 | 값 |
|---|---|
| `color.bg.app` | `#F4F8FD` |
| `color.surface` | `#FFFFFF` |
| `color.text.primary` | `#1F2937` |
| `color.text.secondary` | `#6B7280` |
| `color.brand.blue` | `#2F80D1` |
| `color.brand.green` | `#2FB36D` |
| `radius.card` | `14px ~ 18px` |
| `radius.pill` | `10px ~ 14px` |
| `space.sectionY` | `12px ~ 16px` |
| `touch.min` | `44px` 이상 |

## Priority
1. `P0`: 섹션 1/2/4/5 (`/docs/ui/main_ui.png`) 구조 정합 + 헤더 완전 정합
2. `P0`: 섹션 3/7 (`/docs/ui/ui.png`) 입력 클러스터/세부 디테일 정합
3. `P0`: 섹션 6 (`/docs/ui/add_ui.png`) 모달/진행중 다음 미션 정합
4. `P1`: 타이포/아이콘/레이더 폴리곤 미세 보정
5. `P2`: 장식 요소/모션/햅틱 가이드 후순위 보정

## Implementation Phases
### Phase 1: 모바일 셸 재구성
- 렌더 순서(헤더 -> 상태 -> 입력 -> 퀘스트 -> 탭바) 고정
- safe-area 패딩 + 하단 탭바 고정 + 헤더 고정 + 본문 스크롤 분리
- 헤더 시각 요소를 `/docs/ui/main_ui.png` 기준으로 우선 정합

### Phase 2: Status Card 정합
- 레이더 카드 중심 계층, 레벨/진행률 칩 스캔 동선 확정
- 라벨/그리드/폴리곤/카드 톤(라운드/여백/그림자) 보정
- 타이틀/캐릭터 상태 사이 메시지 제거

### Phase 3: 입력 + AI 액션 클러스터
- 단일 플로팅 생성 버튼 + 입력 우측 STT + `AI 퀘스트 생성` 버튼명으로 재배치
- STT 상태/오류/fallback 가독성 보장
- 퀘스트/AI 생성 및 수동 청크 생성 입력 일정에 동일 정규화/엄격 파싱 규칙 적용

### Phase 4: 현재/대기 퀘스트 + 모달
- 확장 카드 타이머 중심 계층 + 3개 CTA(시작/일시정지/완료) 정합
- 실행 중 청크 증감 버튼을 한 줄(`-5/-1/+1/+5`)로 고정해 조작 일관성 유지
- 진행중 퀘스트에 다음 미션 노출(`/docs/ui/add_ui.png` 기준)
- 대기중 리스트에서 완료 항목 제외 + 메타(시작/마감/소요) 가독성 및 인터랙션 충돌 방지
- 추가/편집 모달의 시간 카드/프리셋/생성 CTA 흐름 고정(`/docs/ui/add_ui.png`)

### Phase 5: 반응형/접근성 최종 검증
- `390px`, `430px`, `768px+` 시각 정합 점검
- 포커스/대비/터치 타깃/스크롤 잠금 해제 확인

## Out Of Scope
- 신규 도메인 기능 추가(알림/STT/동기화 정책 변경)
- 데이터 모델/스토어 구조 재설계
- 디자인 시스템 전면 교체

## Risks & Mitigation
- 리스크: 단일 대형 컴포넌트 UI 조정 중 이벤트 핸들러 회귀
  - 대응: 핸들러 시그니처 고정 + 핵심 플로우 수동 점검
- 리스크: 타이머/청킹 상태 UI 보정 중 상태 표기 불일치
  - 대응: 탭/아코디언/모달 상태 충돌 체크리스트 운영
- 리스크: safe-area 누락으로 CTA 접근성 저하
  - 대응: iOS/Android 하단 인셋 케이스 별도 점검

## Success Metrics
- `390px`에서 레퍼런스와 섹션 순서/계층/액션 위치가 동일하게 인지된다.
- 핵심 경로(`입력 -> AI 퀘스트 생성 -> 시작 -> 일시정지 -> 완료`)가 회귀 없이 동작한다.
- 일정 표기/파싱이 생성 경로별로 동일하게 동작한다(`오늘/내일/D-##`).
- `typecheck/lint/test:mvp` 통과 + 수동 QA 체크리스트 완료.
