{
  "version": "1.0",
  "description": "Skill activation triggers for Claude Code. Controls when skills automatically suggest or block actions.",
  "skills": {
    "skill-developer": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Meta-skill for creating and managing Claude Code skills",
      "promptTriggers": {
        "keywords": [
          "skill system",
          "create skill",
          "add skill",
          "skill triggers",
          "skill rules",
          "hook system",
          "skill development",
          "skill-rules.json"
        ],
        "intentPatterns": [
          "(how do|how does|explain).*?skill",
          "(create|add|modify|build).*?skill",
          "skill.*?(work|trigger|activate|system)"
        ]
      }
    },
    "backend-dev-guidelines": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Backend development patterns for Node.js/Express/TypeScript",
      "promptTriggers": {
        "keywords": [
          "backend",
          "backend development",
          "microservice",
          "controller",
          "service",
          "repository",
          "route",
          "routing",
          "express",
          "API",
          "endpoint",
          "middleware",
          "validation",
          "Zod",
          "Prisma",
          "database access",
          "BaseController",
          "dependency injection",
          "unifiedConfig",
          "configuration"
        ],
        "intentPatterns": [
          "(create|add|implement|build).*?(route|endpoint|API|controller|service|repository)",
          "(fix|handle|debug).*?(error|exception|backend)",
          "(add|implement).*?(middleware|validation|error.*?handling)",
          "(organize|structure|refactor).*?(backend|service|API)",
          "(how to|best practice).*?(backend|route|controller|service)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "blog-api/src/**/*.ts",
          "auth-service/src/**/*.ts",
          "notifications-service/src/**/*.ts",
          "backend/**/*.ts",
          "api/**/*.ts",
          "server/**/*.ts",
          "services/**/*.ts"
        ],
        "pathExclusions": [
          "**/*.test.ts",
          "**/*.spec.ts"
        ],
        "contentPatterns": [
          "router\\.",
          "app\\.(get|post|put|delete|patch)",
          "export.*Controller",
          "export.*Service",
          "prisma\\."
        ]
      }
    },
    "frontend-dev-guidelines": {
      "type": "guardrail",
      "enforcement": "block",
      "priority": "high",
      "description": "React/TypeScript best practices including MUI v7 compatibility",
      "promptTriggers": {
        "keywords": [
          "component",
          "react component",
          "UI",
          "interface",
          "page",
          "modal",
          "dialog",
          "form",
          "MUI",
          "Material-UI",
          "Grid",
          "styling",
          "frontend",
          "React"
        ],
        "intentPatterns": [
          "(create|add|make|build|update|modify|edit).*?(component|UI|page|modal|dialog|form)",
          "(how to|best practice).*?(component|react|MUI)",
          "(style|design|layout).*?(component|UI)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "frontend/src/**/*.tsx",
          "frontend/src/**/*.ts",
          "client/src/**/*.tsx",
          "client/src/**/*.ts",
          "src/**/*.tsx"
        ],
        "pathExclusions": [
          "**/*.test.tsx",
          "**/*.test.ts",
          "**/*.spec.tsx",
          "**/*.spec.ts",
          "**/*.styles.ts",
          "**/vite.config.ts",
          "**/tsconfig.json"
        ],
        "contentPatterns": [
          "from '@mui/material';",
          "import.*Grid.*from.*@mui",
          "<Grid ",
          "Grid2",
          "Unstable_Grid",
          "makeStyles",
          "@material-ui/core"
        ]
      },
      "blockMessage": "âš ï¸ BLOCKED - Frontend Best Practices Required\n\nðŸ“‹ REQUIRED ACTION:\n1. Use Skill tool: 'frontend-dev-guidelines'\n2. Review MUI v7 patterns (Grid uses size={{}} prop, NOT xs/sm props)\n3. Check React/TypeScript best practices\n4. Use proper styling patterns\n5. Then retry this edit\n\nReason: Enforce MUI v7 compatibility and React best practices\nFile: {file_path}\n\nðŸ’¡ TIP: Add '// @skip-validation' comment to skip future checks",
      "skipConditions": {
        "sessionSkillUsed": true,
        "fileMarkers": [
          "@skip-validation"
        ],
        "envOverride": "SKIP_FRONTEND_GUIDELINES"
      }
    },
    "flutter-dev-guidelines": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Default entry skill for Flutter development. It supports new feature development and routes focused requests to architecture/testing/debugging/validation skills when needed.",
      "promptTriggers": {
        "keywords": [
          "flutter",
          "í”ŒëŸ¬í„°",
          "dart",
          "ë‹¤íŠ¸",
          "flutter ê°œë°œ",
          "í”ŒëŸ¬í„° ê°œë°œ",
          "flutter ì‹ ê·œ ê°œë°œ",
          "í”ŒëŸ¬í„° ì‹ ê·œ ê°œë°œ",
          "flutter new feature",
          "flutter êµ¬í˜„",
          "í”ŒëŸ¬í„° êµ¬í˜„",
          "flutter guide router",
          "flutter skill router",
          "flutter ìŠ¤í‚¬ ë¼ìš°í„°",
          "flutter index",
          "flutter ì „ì²´ í”Œë¡œìš°",
          "flutter workflow",
          "ì–´ë–¤ flutter ìŠ¤í‚¬",
          "which flutter skill"
        ],
        "intentPatterns": [
          "^(flutter|í”ŒëŸ¬í„°|dart|ë‹¤íŠ¸)$",
          "(flutter|í”ŒëŸ¬í„°|dart|ë‹¤íŠ¸).*(ê°œë°œ|êµ¬í˜„|ìƒì„±|ì¶”ê°€|ìˆ˜ì •|ë¦¬íŒ©í„°ë§|ì„¤ê³„|ì‹ ê·œ)",
          "(create|add|implement|build|develop|update|refactor).*(flutter|dart|feature|screen|widget)",
          "(flutter|í”ŒëŸ¬í„°).*(ì–´ë–¤|ë¬´ìŠ¨|ì¶”ì²œ|ë¶„ë¥˜|ë¼ìš°í„°|ì¸ë±ìŠ¤|ì „ì²´ íë¦„|ì „ì²´ í”Œë¡œìš°)",
          "(which|what).*(flutter).*(skill|guideline|flow|route|router)",
          "(flutter).*(workflow|orchestration|router|index)"
        ]
      }
    },
    "route-tester": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Testing authenticated API routes with JWT cookie-based auth",
      "promptTriggers": {
        "keywords": [
          "test route",
          "test endpoint",
          "test API",
          "route testing",
          "API testing",
          "authenticated route",
          "JWT testing",
          "cookie auth",
          "test with auth"
        ],
        "intentPatterns": [
          "(test|debug|verify).*?(route|endpoint|API)",
          "(how to|how do I).*?test.*?(route|endpoint|API)",
          "test.*?(authenticated|auth|JWT|cookie)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "**/routes/**/*.ts",
          "**/test-*.js",
          "**/test-*.ts"
        ],
        "contentPatterns": [
          "router\\.(get|post|put|delete|patch)",
          "app\\.(get|post|put|delete|patch)"
        ]
      }
    },
    "error-tracking": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Sentry error tracking and performance monitoring patterns",
      "promptTriggers": {
        "keywords": [
          "error handling",
          "exception",
          "sentry",
          "error tracking",
          "captureException",
          "monitoring",
          "performance tracking"
        ],
        "intentPatterns": [
          "(add|create|implement|setup).*?(error handling|sentry|error tracking)",
          "(fix|handle|catch).*?(error|exception)",
          "(how to|best practice).*?(error|sentry|monitoring)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "**/instrument.ts",
          "**/sentry*.ts",
          "**/*Controller.ts",
          "**/*Service.ts"
        ],
        "contentPatterns": [
          "@sentry",
          "Sentry\\.",
          "captureException",
          "captureMessage"
        ]
      }
    },
    "flutter-architecture-guidelines": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Flutter architecture guidance for MVVM + Clean Architecture, strong modeling boundaries, DI composition root, and Flutter Favorite package policy.",
      "promptTriggers": {
        "keywords": [
          "flutter architecture",
          "flutter ì•„í‚¤í…ì²˜",
          "mvvm",
          "clean architecture",
          "í´ë¦° ì•„í‚¤í…ì²˜",
          "layered architecture",
          "entity",
          "dto",
          "model",
          "mapper",
          "value object",
          "immutable",
          "repository",
          "usecase",
          "viewmodel",
          "dependency injection",
          "ì˜ì¡´ì„± ì£¼ìž…",
          "composition root",
          "get_it",
          "injectable",
          "flutter favorite",
          "pub.dev package"
        ],
        "intentPatterns": [
          "(flutter|dart|í”ŒëŸ¬í„°|ë‹¤íŠ¸).*(ì•„í‚¤í…ì²˜|ì„¤ê³„|êµ¬í˜„|ë¦¬íŒ©í„°ë§)",
          "(mvvm|clean architecture|í´ë¦° ì•„í‚¤í…ì²˜).*(ì ìš©|ì„¤ê³„|êµ¬í˜„|ë¦¬íŒ©í„°ë§)",
          "(entity|dto|model|mapper|value object|immutable|ëª¨ë¸|ì—”í‹°í‹°|ë§¤í¼|ê°’ ê°ì²´|ë¶ˆë³€).*(ì„¤ê³„|ë¶„ë¦¬|ë§¤í•‘|ë³€í™˜|ë§ˆì´ê·¸ë ˆì´ì…˜)",
          "(dependency injection|\\bdi\\b|get_it|injectable|composition root|ì˜ì¡´ì„± ì£¼ìž…|ì»´í¬ì§€ì…˜ ë£¨íŠ¸).*(êµ¬ì„±|ì„¤ì •|ì£¼ìž…|ë°”ì¸ë”©|ë¦¬íŒ©í„°ë§)",
          "(flutter favorite|pub\\.dev).*(íŒ¨í‚¤ì§€|ì˜ì¡´ì„±|ì„ ì •|ê²€í† |ì¶”ê°€)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "lib/**/*.dart"
        ],
        "pathExclusions": [
          "**/*.g.dart",
          "**/*.freezed.dart",
          "test/**/*.dart",
          "integration_test/**/*.dart"
        ],
        "contentPatterns": [
          "class\\s+\\w*Entity",
          "class\\s+\\w*Dto",
          "class\\s+\\w*Model",
          "class\\s+\\w*Mapper",
          "Repository",
          "UseCase",
          "GetIt",
          "@injectable",
          "configureDependencies|setupDependencies|initCompositionRoot"
        ]
      }
    },
    "flutter-testing-guidelines": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Flutter testing guidance for unit/widget/integration strategy, ViewModel test responsibilities, and test execution patterns.",
      "promptTriggers": {
        "keywords": [
          "flutter test",
          "í…ŒìŠ¤íŠ¸",
          "unit test",
          "ë‹¨ìœ„ í…ŒìŠ¤íŠ¸",
          "widget test",
          "ìœ„ì ¯ í…ŒìŠ¤íŠ¸",
          "integration test",
          "í†µí•© í…ŒìŠ¤íŠ¸",
          "test strategy",
          "viewmodel test",
          "ìƒíƒœ ì „ì´ í…ŒìŠ¤íŠ¸",
          "mocktail",
          "fake",
          "flutter_test"
        ],
        "intentPatterns": [
          "(flutter|dart|í”ŒëŸ¬í„°|ë‹¤íŠ¸).*(í…ŒìŠ¤íŠ¸|test)",
          "(unit|widget|integration|ë‹¨ìœ„|ìœ„ì ¯|í†µí•©).*(í…ŒìŠ¤íŠ¸|test)",
          "(viewmodel|view model|ë·°ëª¨ë¸).*(í…ŒìŠ¤íŠ¸|ìƒíƒœ ì „ì´|state transition|loading)",
          "(create|add|update|fix|write).*(test|tests|testing|unit test|widget test|integration test)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "test/**/*.dart",
          "integration_test/**/*.dart"
        ],
        "pathExclusions": [
          "**/*.g.dart",
          "**/*.freezed.dart"
        ],
        "contentPatterns": [
          "testWidgets\\(",
          "group\\(",
          "expect\\(",
          "package:flutter_test/flutter_test\\.dart",
          "IntegrationTestWidgetsFlutterBinding"
        ]
      }
    },
    "flutter-debugging-guidelines": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Flutter debugging guidance for Inspector/DevTools, lifecycle issues, platform troubleshooting, and performance bottleneck analysis.",
      "promptTriggers": {
        "keywords": [
          "flutter debug",
          "flutter debugging",
          "ë””ë²„ê¹…",
          "inspector",
          "devtools",
          "profiler",
          "lifecycle",
          "setstate called after dispose",
          "ë©”ëª¨ë¦¬ ëˆ„ìˆ˜",
          "ì„±ëŠ¥ ë³‘ëª©",
          "jank",
          "frame drop",
          "android manifest",
          "info.plist",
          "adb logcat"
        ],
        "intentPatterns": [
          "(flutter|dart|í”ŒëŸ¬í„°|ë‹¤íŠ¸).*(ë””ë²„ê¹…|debug|ì˜¤ë¥˜ ë¶„ì„|ì›ì¸)",
          "(inspector|devtools|profiler|cpu|memory|timeline).*(ì‚¬ìš©|ë¶„ì„|debug|ë””ë²„ê¹…)",
          "(setstate\\(\\) called after dispose|lifecycle|ìƒëª…ì£¼ê¸°).*(í•´ê²°|ìˆ˜ì •|ì›ì¸)",
          "(android|ios|manifest|info\\.plist|gradle|pods).*(ì˜¤ë¥˜|ì´ìŠˆ|ë””ë²„ê¹…|í•´ê²°)",
          "(ì„±ëŠ¥|jank|frame|ë³‘ëª©).*(ë¶„ì„|ìµœì í™”|ë””ë²„ê¹…)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "android/**",
          "ios/**"
        ],
        "pathExclusions": [
          "**/*.g.dart",
          "**/*.freezed.dart",
          "test/**/*.dart",
          "integration_test/**/*.dart"
        ],
        "contentPatterns": [
          "FlutterError\\.onError",
          "debugPrint",
          "WidgetsBindingObserver",
          "didChangeAppLifecycleState",
          "setState\\(\\).*(dispose|mounted)",
          "Timeline"
        ]
      }
    },
    "flutter-validation-gates": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Flutter validation gate guidance for G1~G5 (+G4b), evidence rules, and pass/fail judgment commands.",
      "promptTriggers": {
        "keywords": [
          "flutter gate",
          "validation gate",
          "quality gate",
          "ê²€ì¦ ê²Œì´íŠ¸",
          "í’ˆì§ˆ ê²Œì´íŠ¸",
          "ì¦ë¹™",
          "evidence",
          "g1",
          "g2",
          "g2b",
          "g3",
          "g4",
          "g4b",
          "g5",
          "exit_code",
          "pass fail"
        ],
        "intentPatterns": [
          "(g1|g2|g2b|g3|g4|g4b|g5).*(ê²Œì´íŠ¸|gate|ê²€ì¦|validation|íŒì •)",
          "(flutter|í”ŒëŸ¬í„°).*(ê²€ì¦|í’ˆì§ˆ ê²Œì´íŠ¸|ì™„ë£Œ ê¸°ì¤€|ì¦ë¹™|evidence|pass|fail)",
          "(ci|pipeline|pr).*(ê²Œì´íŠ¸|gate|exit_code|ì¦ë¹™)",
          "(how|run|execute).*(flutter).*(gate|validation|evidence)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "dev/evidence/flutter/**"
        ],
        "contentPatterns": [
          "exit_code=0",
          "G[1-5] PASS",
          "G4b PASS",
          "No issues found!"
        ]
      }
    }
  },
  "notes": {
    "enforcement_types": {
      "suggest": "Skill suggestion appears but doesn't block execution",
      "block": "Requires skill to be used before proceeding (guardrail)",
      "warn": "Shows warning but allows proceeding"
    },
    "priority_levels": {
      "critical": "Highest - Always trigger when matched",
      "high": "Important - Trigger for most matches",
      "medium": "Moderate - Trigger for clear matches",
      "low": "Optional - Trigger only for explicit matches"
    },
    "customization": {
      "pathPatterns": "Adjust to match your project structure (blog-api, auth-service, etc.)",
      "keywords": "Add domain-specific terms relevant to your project",
      "intentPatterns": "Use regex for flexible user intent matching"
    }
  }
}
